import {
  Check,
  CheckBuilder,
  ForeignKey,
  ForeignKeyBuilder,
  Index,
  IndexBuilder,
  IndexBuilderOn,
  InlineForeignKeys,
  MySqlBigInt53,
  MySqlBigInt53Builder,
  MySqlBigInt64,
  MySqlBigInt64Builder,
  MySqlBinary,
  MySqlBinaryBuilder,
  MySqlBoolean,
  MySqlBooleanBuilder,
  MySqlChar,
  MySqlCharBuilder,
  MySqlColumn,
  MySqlColumnBuilder,
  MySqlColumnBuilderWithAutoIncrement,
  MySqlColumnWithAutoIncrement,
  MySqlCustomColumn,
  MySqlCustomColumnBuilder,
  MySqlDatabase,
  MySqlDate,
  MySqlDateBuilder,
  MySqlDateString,
  MySqlDateStringBuilder,
  MySqlDateTime,
  MySqlDateTimeBuilder,
  MySqlDateTimeString,
  MySqlDateTimeStringBuilder,
  MySqlDecimal,
  MySqlDecimalBigInt,
  MySqlDecimalBigIntBuilder,
  MySqlDecimalBuilder,
  MySqlDecimalNumber,
  MySqlDecimalNumberBuilder,
  MySqlDeleteBase,
  MySqlDialect,
  MySqlDouble,
  MySqlDoubleBuilder,
  MySqlEnumColumn,
  MySqlEnumColumnBuilder,
  MySqlEnumObjectColumn,
  MySqlEnumObjectColumnBuilder,
  MySqlFloat,
  MySqlFloatBuilder,
  MySqlInsertBase,
  MySqlInsertBuilder,
  MySqlInt,
  MySqlIntBuilder,
  MySqlJson,
  MySqlJsonBuilder,
  MySqlMediumInt,
  MySqlMediumIntBuilder,
  MySqlPreparedQuery,
  MySqlReal,
  MySqlRealBuilder,
  MySqlSelectBase,
  MySqlSelectBuilder,
  MySqlSelectQueryBuilderBase,
  MySqlSerial,
  MySqlSerialBuilder,
  MySqlSession,
  MySqlSmallInt,
  MySqlSmallIntBuilder,
  MySqlTable,
  MySqlText,
  MySqlTextBuilder,
  MySqlTime,
  MySqlTimeBuilder,
  MySqlTimestamp,
  MySqlTimestampBuilder,
  MySqlTimestampString,
  MySqlTimestampStringBuilder,
  MySqlTinyInt,
  MySqlTinyIntBuilder,
  MySqlTransaction,
  MySqlUpdateBase,
  MySqlUpdateBuilder,
  MySqlVarBinary,
  MySqlVarBinaryBuilder,
  MySqlVarChar,
  MySqlVarCharBuilder,
  MySqlViewBase,
  MySqlViewConfig,
  MySqlYear,
  MySqlYearBuilder,
  PrimaryKey,
  PrimaryKeyBuilder,
  QueryBuilder,
  SelectionProxyHandler,
  UniqueConstraint,
  UniqueConstraintBuilder,
  UniqueOnConstraintBuilder,
  bigint,
  binary,
  boolean,
  char,
  check,
  convertIndexToString,
  customType,
  date,
  datetime,
  decimal,
  double,
  except,
  exceptAll,
  extractUsedTable,
  float,
  foreignKey,
  getTableConfig,
  getViewConfig,
  index,
  int,
  intersect,
  intersectAll,
  json,
  longtext,
  mediumint,
  mediumtext,
  mysqlEnum,
  mysqlTable,
  mysqlTableCreator,
  mysqlTableWithSchema,
  primaryKey,
  real,
  serial,
  smallint,
  text,
  time,
  timestamp,
  tinyint,
  tinytext,
  toArray,
  union,
  unionAll,
  unique,
  uniqueIndex,
  uniqueKeyName,
  varbinary,
  varchar,
  withReplicas,
  year
} from "./chunk-I2HCTNL4.js";
import {
  TableAliasProxyHandler,
  entityKind,
  getTableColumns,
  is
} from "./chunk-K5WNBFCQ.js";
import "./chunk-7D4SUZUM.js";

// node_modules/drizzle-orm/mysql-core/alias.js
function alias(table, alias2) {
  return new Proxy(table, new TableAliasProxyHandler(alias2, false));
}

// node_modules/drizzle-orm/mysql-core/view.js
var ViewBuilderCore = class {
  constructor(name, schema) {
    this.name = name;
    this.schema = schema;
  }
  static [entityKind] = "MySqlViewBuilder";
  config = {};
  algorithm(algorithm) {
    this.config.algorithm = algorithm;
    return this;
  }
  sqlSecurity(sqlSecurity) {
    this.config.sqlSecurity = sqlSecurity;
    return this;
  }
  withCheckOption(withCheckOption) {
    this.config.withCheckOption = withCheckOption ?? "cascaded";
    return this;
  }
};
var ViewBuilder = class extends ViewBuilderCore {
  static [entityKind] = "MySqlViewBuilder";
  as(qb) {
    if (typeof qb === "function") {
      qb = qb(new QueryBuilder());
    }
    const selectionProxy = new SelectionProxyHandler({
      alias: this.name,
      sqlBehavior: "error",
      sqlAliasedBehavior: "alias",
      replaceOriginalName: true
    });
    const aliasedSelection = new Proxy(qb.getSelectedFields(), selectionProxy);
    return new Proxy(
      new MySqlView({
        mysqlConfig: this.config,
        config: {
          name: this.name,
          schema: this.schema,
          selectedFields: aliasedSelection,
          query: qb.getSQL().inlineParams()
        }
      }),
      selectionProxy
    );
  }
};
var ManualViewBuilder = class extends ViewBuilderCore {
  static [entityKind] = "MySqlManualViewBuilder";
  columns;
  constructor(name, columns, schema) {
    super(name, schema);
    this.columns = getTableColumns(mysqlTable(name, columns));
  }
  existing() {
    return new Proxy(
      new MySqlView({
        mysqlConfig: void 0,
        config: {
          name: this.name,
          schema: this.schema,
          selectedFields: this.columns,
          query: void 0
        }
      }),
      new SelectionProxyHandler({
        alias: this.name,
        sqlBehavior: "error",
        sqlAliasedBehavior: "alias",
        replaceOriginalName: true
      })
    );
  }
  as(query) {
    return new Proxy(
      new MySqlView({
        mysqlConfig: this.config,
        config: {
          name: this.name,
          schema: this.schema,
          selectedFields: this.columns,
          query: query.inlineParams()
        }
      }),
      new SelectionProxyHandler({
        alias: this.name,
        sqlBehavior: "error",
        sqlAliasedBehavior: "alias",
        replaceOriginalName: true
      })
    );
  }
};
var MySqlView = class extends MySqlViewBase {
  static [entityKind] = "MySqlView";
  [MySqlViewConfig];
  constructor({ mysqlConfig, config }) {
    super(config);
    this[MySqlViewConfig] = mysqlConfig;
  }
};
function mysqlViewWithSchema(name, selection, schema) {
  if (selection) {
    return new ManualViewBuilder(name, selection, schema);
  }
  return new ViewBuilder(name, schema);
}
function mysqlView(name, selection) {
  return mysqlViewWithSchema(name, selection, void 0);
}

// node_modules/drizzle-orm/mysql-core/schema.js
var MySqlSchema = class {
  constructor(schemaName) {
    this.schemaName = schemaName;
  }
  static [entityKind] = "MySqlSchema";
  table = (name, columns, extraConfig) => {
    return mysqlTableWithSchema(name, columns, extraConfig, this.schemaName);
  };
  view = (name, columns) => {
    return mysqlViewWithSchema(name, columns, this.schemaName);
  };
};
function isMySqlSchema(obj) {
  return is(obj, MySqlSchema);
}
function mysqlDatabase(name) {
  return new MySqlSchema(name);
}
var mysqlSchema = mysqlDatabase;
export {
  Check,
  CheckBuilder,
  ForeignKey,
  ForeignKeyBuilder,
  Index,
  IndexBuilder,
  IndexBuilderOn,
  InlineForeignKeys,
  ManualViewBuilder,
  MySqlBigInt53,
  MySqlBigInt53Builder,
  MySqlBigInt64,
  MySqlBigInt64Builder,
  MySqlBinary,
  MySqlBinaryBuilder,
  MySqlBoolean,
  MySqlBooleanBuilder,
  MySqlChar,
  MySqlCharBuilder,
  MySqlColumn,
  MySqlColumnBuilder,
  MySqlColumnBuilderWithAutoIncrement,
  MySqlColumnWithAutoIncrement,
  MySqlCustomColumn,
  MySqlCustomColumnBuilder,
  MySqlDatabase,
  MySqlDate,
  MySqlDateBuilder,
  MySqlDateString,
  MySqlDateStringBuilder,
  MySqlDateTime,
  MySqlDateTimeBuilder,
  MySqlDateTimeString,
  MySqlDateTimeStringBuilder,
  MySqlDecimal,
  MySqlDecimalBigInt,
  MySqlDecimalBigIntBuilder,
  MySqlDecimalBuilder,
  MySqlDecimalNumber,
  MySqlDecimalNumberBuilder,
  MySqlDeleteBase,
  MySqlDialect,
  MySqlDouble,
  MySqlDoubleBuilder,
  MySqlEnumColumn,
  MySqlEnumColumnBuilder,
  MySqlEnumObjectColumn,
  MySqlEnumObjectColumnBuilder,
  MySqlFloat,
  MySqlFloatBuilder,
  MySqlInsertBase,
  MySqlInsertBuilder,
  MySqlInt,
  MySqlIntBuilder,
  MySqlJson,
  MySqlJsonBuilder,
  MySqlMediumInt,
  MySqlMediumIntBuilder,
  MySqlPreparedQuery,
  MySqlReal,
  MySqlRealBuilder,
  MySqlSchema,
  MySqlSelectBase,
  MySqlSelectBuilder,
  MySqlSelectQueryBuilderBase,
  MySqlSerial,
  MySqlSerialBuilder,
  MySqlSession,
  MySqlSmallInt,
  MySqlSmallIntBuilder,
  MySqlTable,
  MySqlText,
  MySqlTextBuilder,
  MySqlTime,
  MySqlTimeBuilder,
  MySqlTimestamp,
  MySqlTimestampBuilder,
  MySqlTimestampString,
  MySqlTimestampStringBuilder,
  MySqlTinyInt,
  MySqlTinyIntBuilder,
  MySqlTransaction,
  MySqlUpdateBase,
  MySqlUpdateBuilder,
  MySqlVarBinary,
  MySqlVarBinaryBuilder,
  MySqlVarChar,
  MySqlVarCharBuilder,
  MySqlView,
  MySqlViewConfig,
  MySqlYear,
  MySqlYearBuilder,
  PrimaryKey,
  PrimaryKeyBuilder,
  QueryBuilder,
  UniqueConstraint,
  UniqueConstraintBuilder,
  UniqueOnConstraintBuilder,
  ViewBuilder,
  ViewBuilderCore,
  alias,
  bigint,
  binary,
  boolean,
  char,
  check,
  convertIndexToString,
  customType,
  date,
  datetime,
  decimal,
  double,
  except,
  exceptAll,
  extractUsedTable,
  float,
  foreignKey,
  getTableConfig,
  getViewConfig,
  index,
  int,
  intersect,
  intersectAll,
  isMySqlSchema,
  json,
  longtext,
  mediumint,
  mediumtext,
  mysqlDatabase,
  mysqlEnum,
  mysqlSchema,
  mysqlTable,
  mysqlTableCreator,
  mysqlTableWithSchema,
  mysqlView,
  mysqlViewWithSchema,
  primaryKey,
  real,
  serial,
  smallint,
  text,
  time,
  timestamp,
  tinyint,
  tinytext,
  toArray,
  union,
  unionAll,
  unique,
  uniqueIndex,
  uniqueKeyName,
  varbinary,
  varchar,
  withReplicas,
  year
};
//# sourceMappingURL=drizzle-orm_mysql-core.js.map
